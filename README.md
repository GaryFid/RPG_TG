# tgRPG - Fantasy Strategy Game for Telegram WebApp

–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∞—è —Ñ—ç–Ω—Ç–µ–∑–∏ RPG –∏–≥—Ä–∞ –¥–ª—è Telegram WebApp —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Web3.

## üéÆ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏–≥—Ä—ã

- **4 —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ä–∞—Å—ã**: –õ—é–¥–∏ üë®‚Äç‚öîÔ∏è, –≠–ª—å—Ñ—ã üßù‚Äç‚ôÄÔ∏è, –ù–µ–∂–∏—Ç—å ‚ò†Ô∏è, –û—Ä–∫–∏ üëπ
- **8 –≥–æ—Ä–æ–¥–æ–≤**: –ö–∞–∂–¥—ã–π —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –º–∞–≥–∞–∑–∏–Ω–∞–º–∏, —É—Å–ª—É–≥–∞–º–∏ –∏ –∫–≤–µ—Å—Ç–∞–º–∏
- **–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä**: –õ–æ–∫–∞—Ü–∏–∏ —Å –º–æ–Ω—Å—Ç—Ä–∞–º–∏, –∞—Ä–µ–Ω–∞–º–∏ –∏ —Å–æ–∫—Ä–æ–≤–∏—â–∞–º–∏
- **–°–∏—Å—Ç–µ–º–∞ –∫—Ä–∞—Ñ—Ç–∞**: –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ä—É–∂–∏—è –∏ —ç–∫–∏–ø–∏—Ä–æ–≤–∫–∏
- **–ë–æ–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞**: –ü–æ—à–∞–≥–æ–≤—ã–µ —Å—Ä–∞–∂–µ–Ω–∏—è —Å –º–æ–Ω—Å—Ç—Ä–∞–º–∏
- **–¢–æ—Ä–≥–æ–≤–ª—è**: –û–±–º–µ–Ω —Ä–µ—Å—É—Ä—Å–∞–º–∏ –º–µ–∂–¥—É –≥–æ—Ä–æ–¥–∞–º–∏
- **Web3 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ (–≤ –ø–ª–∞–Ω–∞—Ö)

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Frontend**: Next.js 14, React 18, TypeScript
- **Styling**: Tailwind CSS
- **State Management**: Zustand
- **Database**: Supabase (PostgreSQL)
- **Authentication**: Telegram WebApp
- **Deployment**: Vercel
- **Web3**: –ë—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–∑–¥–Ω–µ–µ

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+
- npm –∏–ª–∏ yarn
- –ê–∫–∫–∞—É–Ω—Ç Supabase
- Telegram Bot (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

\`\`\`bash
git clone <your-repo-url>
cd tgrpg
\`\`\`

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

\`\`\`bash
npm install
\`\`\`

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª \`.env.local\` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

\`\`\`env
# Telegram Bot Configuration
NEXT_PUBLIC_BOT_USERNAME=your_bot_username
TELEGRAM_BOT_TOKEN=your_bot_token

# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key

# App Configuration
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXTAUTH_SECRET=your_nextauth_secret
NEXTAUTH_URL=http://localhost:3000

# Web3 Configuration (–¥–ª—è –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
NEXT_PUBLIC_WALLET_CONNECT_PROJECT_ID=your_wallet_connect_id
NEXT_PUBLIC_ALCHEMY_API_KEY=your_alchemy_key
NEXT_PUBLIC_NETWORK=polygon

# Redis Configuration (–µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è)
REDIS_URL=redis://localhost:6379
\`\`\`

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Supabase

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –≤ [Supabase](https://supabase.com)
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL-—Å–∫—Ä–∏–ø—Ç –∏–∑ —Ñ–∞–π–ª–∞ \`database/schema.sql\` –≤ SQL Editor
3. –í–∫–ª—é—á–∏—Ç–µ Row Level Security –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL –ø—Ä–æ–µ–∫—Ç–∞ –∏ anon key –≤ \`.env.local\`

### 5. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

\`\`\`bash
npm run dev
\`\`\`

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:3000

## ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Bot

### –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞

1. –ù–∞–ø–∏—à–∏—Ç–µ [@BotFather](https://t.me/botfather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ \`/newbot\` –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
3. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ –≤ \`.env.local\`

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ WebApp

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ \`/setmenubutton\` BotFather'—É
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –±–æ—Ç
3. –£–∫–∞–∂–∏—Ç–µ URL –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏: "üéÆ –ò–≥—Ä–∞—Ç—å"

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –±–æ—Ç–∞

\`\`\`
start - üöÄ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
help - ‚ùì –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
profile - üë§ –ü—Ä–æ—Ñ–∏–ª—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
stats - üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
\`\`\`

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

\`\`\`
tgrpg/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ app/              # Next.js App Router
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ globals.css   # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx    # –ö–æ—Ä–Ω–µ–≤–æ–π layout
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx      # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îú‚îÄ‚îÄ components/       # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ CharacterCreation.tsx
‚îÇ   ‚îú‚îÄ‚îÄ lib/              # –£—Ç–∏–ª–∏—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ gameData.ts   # –ò–≥—Ä–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ supabase.ts   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Supabase
‚îÇ   ‚îú‚îÄ‚îÄ stores/           # Zustand store
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ gameStore.ts  # –ì–ª–∞–≤–Ω—ã–π store –∏–≥—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ types/            # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ game.ts       # –ò–≥—Ä–æ–≤—ã–µ —Ç–∏–ø—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ telegram.ts   # Telegram WebApp —Ç–∏–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ hooks/            # React hooks
‚îÇ   ‚îî‚îÄ‚îÄ utils/            # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îî‚îÄ‚îÄ schema.sql        # SQL —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ public/               # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îî‚îÄ‚îÄ ...–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
\`\`\`

## üéØ –ò–≥—Ä–æ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏

### –†–∞—Å—ã –∏ –∏—Ö –±–æ–Ω—É—Å—ã

| –†–∞—Å–∞ | –°–∏–ª–∞ | –õ–æ–≤–∫–æ—Å—Ç—å | –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç | –í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å |
|------|------|----------|-----------|--------------|
| –õ—é–¥–∏ üë®‚Äç‚öîÔ∏è | +5 | +5 | +5 | +10 |
| –≠–ª—å—Ñ—ã üßù‚Äç‚ôÄÔ∏è | 0 | +15 | +10 | 0 |
| –ù–µ–∂–∏—Ç—å ‚ò†Ô∏è | +8 | +2 | +10 | +5 |
| –û—Ä–∫–∏ üëπ | +20 | 0 | -5 | +10 |

### –ì–æ—Ä–æ–¥–∞

1. **–°—Ç–æ–ª–∏—Ü–∞ –ö–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–∞** üëë - –¶–µ–Ω—Ç—Ä —Ç–æ—Ä–≥–æ–≤–ª–∏ –ª—é–¥–µ–π
2. **–≠–ª—å—Ñ–∏–π—Å–∫–æ–µ –°–≤—è—Ç–∏–ª–∏—â–µ** üå≥ - –ú–∞–≥–∏—á–µ—Å–∫–∏–π –≥–æ—Ä–æ–¥ —ç–ª—å—Ñ–æ–≤
3. **–ù–µ–∫—Ä–æ–ø–æ–ª–∏—Å** üèöÔ∏è - –¢–µ–º–Ω—ã–π –≥–æ—Ä–æ–¥ –Ω–µ–∂–∏—Ç–∏
4. **–ö—Ä–µ–ø–æ—Å—Ç—å –û—Ä–∫–æ–≤** üèîÔ∏è - –ì–æ—Ä–Ω–∞—è —Ç–≤–µ—Ä–¥—ã–Ω—è –æ—Ä–∫–æ–≤
5. **–¢–æ—Ä–≥–æ–≤—ã–π –ü–æ—Ä—Ç** ‚öì - –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π —Ç–æ—Ä–≥–æ–≤—ã–π —Ü–µ–Ω—Ç—Ä
6. **–•—Ä—É—Å—Ç–∞–ª—å–Ω—ã–µ –ü–µ—â–µ—Ä—ã** üíé - –ü–æ–¥–∑–µ–º–Ω—ã–π –≥–æ—Ä–æ–¥
7. **–ö–æ—Å—Ç—è–Ω–∞—è –¶–∏—Ç–∞–¥–µ–ª—å** ü¶¥ - –ö—Ä–µ–ø–æ—Å—Ç—å –Ω–µ–∂–∏—Ç–∏
8. **–ñ–µ–ª–µ–∑–Ω—ã–µ –†—É–¥–Ω–∏–∫–∏** ‚õèÔ∏è - –ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π –≥–æ—Ä–æ–¥

## üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Vercel

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

\`\`\`bash
git add .
git commit -m "Initial commit"
git push origin main
\`\`\`

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Vercel

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [Vercel](https://vercel.com)
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   - \`NEXT_PUBLIC_SUPABASE_URL\`
   - \`NEXT_PUBLIC_SUPABASE_ANON_KEY\`
   - \`SUPABASE_SERVICE_ROLE_KEY\`
   - \`NEXT_PUBLIC_APP_URL\` (–≤–∞—à Vercel URL)

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Telegram Bot

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –æ–±–Ω–æ–≤–∏—Ç–µ URL WebApp —É BotFather –Ω–∞ –≤–∞—à Vercel URL.

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

\`\`\`bash
npm run dev
\`\`\`

### –ë–∏–ª–¥ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

\`\`\`bash
npm run build
npm start
\`\`\`

### –õ–∏–Ω—Ç–∏–Ω–≥

\`\`\`bash
npm run lint
\`\`\`

## üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

- \`users\` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ Telegram
- \`characters\` - –ü–µ—Ä—Å–æ–Ω–∞–∂–∏ –∏–≥—Ä–æ–∫–æ–≤
- \`battles\` - –ò—Å—Ç–æ—Ä–∏—è –±–∏—Ç–≤
- \`character_quests\` - –ê–∫—Ç–∏–≤–Ω—ã–µ –∫–≤–µ—Å—Ç—ã
- \`trades\` - –¢–æ—Ä–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### –í–∞–∂–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- \`get_character_by_telegram_id()\` - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –ø–æ Telegram ID
- \`create_character()\` - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞

## üõ†Ô∏è TODO List

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ
- [x] –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Next.js –ø—Ä–æ–µ–∫—Ç–∞
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram WebApp
- [x] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase
- [x] –°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
- [x] –ò–≥—Ä–æ–≤—ã–µ —Ç–∏–ø—ã –∏ –¥–∞–Ω–Ω—ã–µ
- [x] State management —Å Zustand

### üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ
- [ ] –ö–∞—Ä—Ç–∞ –º–∏—Ä–∞ —Å 8 –≥–æ—Ä–æ–¥–∞–º–∏
- [ ] –ë–æ–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
- [ ] –¢–æ—Ä–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
- [ ] –°–∏—Å—Ç–µ–º–∞ –∫—Ä–∞—Ñ—Ç–∞

### üìã –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è
- [ ] Web3 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] –°–∏—Å—Ç–µ–º–∞ –∫–≤–µ—Å—Ç–æ–≤
- [ ] –ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏
- [ ] –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ —Ä–µ–π—Ç–∏–Ω–≥–∏

## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

1. Fork –ø—Ä–æ–µ–∫—Ç–∞
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch (\`git checkout -b feature/AmazingFeature\`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (\`git commit -m 'Add some AmazingFeature'\`)
4. Push –≤ branch (\`git push origin feature/AmazingFeature\`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ —Ñ–∞–π–ª–µ \`LICENSE\`.

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

Telegram: [@your_username](https://t.me/your_username)

---

**üåü –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∏—Ä tgRPG! –ü—É—Å—Ç—å –≤–∞—à–∏ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è –±—É–¥—É—Ç —ç–ø–∏—á–µ—Å–∫–∏–º–∏! ‚öîÔ∏è**
